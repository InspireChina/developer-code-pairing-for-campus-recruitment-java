# 需求文档

## 背景

本文档定义"要吃饱"订餐系统中用户下订单功能的需求规格。该功能允许已登录用户选择商家餐品、填写配送信息并创建订单，是整个订餐流程的核心环节。

## 术语表

- **系统**: 要吃饱订餐平台系统
- **用户**: 已注册并登录的平台用户
- **订单**: 用户提交的餐品购买订单
- **商家**: 提供餐品的商家店铺
- **餐品**: 商家提供的菜品

## 需求列表

---

## XCB-H01: 实现基本的创建订单功能
Story描述： 作为用户，我想要在下单时能够享受商家提供的优惠。

### 背景信息：
- 商家希望通过折扣活动吸引用户下单
- 目前最常见的折扣形式是"满减"（如满50减5元）
- 未来可能会有其他折扣形式 
 
### 你需要完成：
1. 需求澄清与AC定义
   - 在开始编码前，请先定义你理解的验收标准（AC）
   - 思考并记录：哪些边界情况需要处理？
2. 领域模型设计
   - 在让AI生成代码前，请先设计领域模型
   - 思考：折扣应该是什么类型的对象？放在哪个包？
3. TDD驱动开发
   - 请先编写测试用例，再实现功能
   - 如果使用AI生成代码，请用测试约束AI的输出
4. 代码实现
   - 在订单价格计算中集成折扣逻辑
   - 在API响应中返回折扣信息

### 提交物：
- AC定义文档
- 领域模型设计说明
- 测试用例（先于实现）
- 实现代码
- 要求提交 Prompt History（与 AI 的对话记录）

---

## 提交规范

### 压缩包命名格式
`姓名_学校_手机号后四位.zip`

示例：`张三_清华大学_1234.zip`

### 目录结构要求

```
姓名_学校_手机号后四位/
├── code/                          # 完整项目代码
│   └── (整个项目目录)
├── docs/                          # 文档目录
│   ├── AC_Definition.md           # 验收标准定义
│   └── Domain_Model_Design.md     # 领域模型设计说明
├── prompt-history/                # AI对话记录目录
│   └── conversation.md            # 与AI的完整对话记录
│   └── screenshots/           # (若使用截图) 请按顺序编号，如 01.png, 02.png
└── README.md                      # 个人说明（可选）
```

### 文件格式要求

| 文件类型 | 格式要求 | 说明 |
|---------|---------|------|
| 代码文件 | 原始格式 | 保持项目原有结构，确保可直接运行 |
| 文档文件 | Markdown (.md) | 使用 Markdown 格式编写 |
| AI对话记录 | Markdown (.md) 或 纯文本 (.txt) | 保留完整对话，包含你的提问和AI的回答 |

### 打包前清理

请删除以下目录/文件后再打包：
- `build/` - 构建产物
- `.gradle/` - Gradle缓存
- `.idea/` - IDE配置
- `*.iml` - IDE模块文件

### 注意事项

1. 确保代码可以通过 `./gradlew build` 正常编译
2. 确保所有测试可以通过 `./gradlew test` 运行
3. AI对话记录请保持原始格式，不要删减或修改
4. 如使用多个AI工具，请分别保存对话记录并注明工具名称